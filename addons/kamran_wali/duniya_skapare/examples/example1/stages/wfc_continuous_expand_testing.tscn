[gd_scene load_steps=18 format=3 uid="uid://pes8xsqgg6xs"]

[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/scripts/stage_generators/gen_sim_tester.gd" id="1_lrc0f"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/scripts/stage_generators/wave_function_collapse/ds_wfc_gen_expand_thread.gd" id="2_d5bog"]
[ext_resource type="Resource" uid="uid://c0l88lwcimemk" path="res://addons/kamran_wali/duniya_skapare/settings/data2.tres" id="3_07e2w"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/scripts/grids/ds_grid_rect.gd" id="4_35x5k"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_world_creator.gd" id="5_ncdxt"]
[ext_resource type="PackedScene" uid="uid://d3nwfq7k3q6lu" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_0_s_1_ground.tscn" id="6_uv2qc"]
[ext_resource type="PackedScene" uid="uid://nlf210san7nl" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_1_s_1_water.tscn" id="7_a66vi"]
[ext_resource type="PackedScene" uid="uid://chp36hfkn8c5a" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_2_s_1_corner_1.tscn" id="8_1hy2u"]
[ext_resource type="PackedScene" uid="uid://bc3h7h8la5err" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_3_s_1_corner_2.tscn" id="9_vo4sp"]
[ext_resource type="PackedScene" uid="uid://ibf6e3xjblb0" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_4_s_1_corner_3.tscn" id="10_wcocp"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_grid_expander.gd" id="11_54r8l"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_tile_expander.gd" id="12_plj65"]
[ext_resource type="Material" uid="uid://dq41i7obiprt7" path="res://addons/kamran_wali/duniya_skapare/examples/example1/materials/highlight.tres" id="13_18wss"]
[ext_resource type="Script" path="res://DELETE_ME/test3.gd" id="14_mo4h3"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_570fc"]

[sub_resource type="ArrayMesh" id="ArrayMesh_uwhml"]
_surfaces = [{
"aabb": AABB(-1, 0, -1, 2, 1e-05, 2.00001),
"format": 4097,
"index_count": 6,
"index_data": PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 191)
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_70ya6"]
resource_name = "s1_ground_Plane"
_surfaces = [{
"aabb": AABB(-1, 0, -1, 2, 1e-05, 2.00001),
"attribute_data": PackedByteArray(224, 239, 7, 63, 112, 30, 15, 61, 224, 239, 7, 63, 112, 30, 15, 61, 224, 239, 7, 63, 112, 30, 15, 61, 224, 239, 7, 63, 112, 30, 15, 61),
"format": 4119,
"index_count": 6,
"index_data": PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0),
"material": SubResource("StandardMaterial3D_570fc"),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 63, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 191)
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_uwhml")

[node name="wfc_continuous_expand" type="Node3D"]

[node name="Generator_Holder" type="Node3D" parent="." node_paths=PackedStringArray("_generator")]
script = ExtResource("1_lrc0f")
_generator = NodePath("WFC")

[node name="WFC" type="Node3D" parent="Generator_Holder"]
script = ExtResource("2_d5bog")
_data = ExtResource("3_07e2w")
_nuke_limit = 50
_loop_limit = 50
_is_debug = true

[node name="Grid" type="Node3D" parent="Generator_Holder/WFC"]
script = ExtResource("4_35x5k")

[node name="World_Creator" type="Node3D" parent="." node_paths=PackedStringArray("_generator", "_tile_holder")]
script = ExtResource("5_ncdxt")
_tiles = Array[PackedScene]([ExtResource("6_uv2qc"), ExtResource("7_a66vi"), ExtResource("8_1hy2u"), ExtResource("9_vo4sp"), ExtResource("10_wcocp")])
_generator = NodePath("../Generator_Holder/WFC")
_tile_holder = NodePath("../Tile_Holder")
_tile_offset_x = 2.0
_tile_offset_y = 2.0
_tile_offset_z = 2.0

[node name="Tile_Holder" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.881559, 0.358073, -0.307633, 1.4267e-08, 0.651662, 0.75851, 0.472074, -0.668671, 0.574478, -2.46905, 22.9978, 33.587)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0)

[node name="Expander_Control" type="Node3D" parent="." node_paths=PackedStringArray("_generator", "_world_creator")]
script = ExtResource("11_54r8l")
_generator = NodePath("../Generator_Holder/WFC")
_world_creator = NodePath("../World_Creator")

[node name="Tile_Control" type="Node3D" parent="." node_paths=PackedStringArray("_generator", "_world_creator", "_highlighter")]
script = ExtResource("12_plj65")
_generator = NodePath("../Generator_Holder/WFC")
_world_creator = NodePath("../World_Creator")
_highlighter = NodePath("s1_ground2")
_offset_x = 2.0
_offset_y = 2.0
_offset_z = 2.0

[node name="s1_ground2" type="MeshInstance3D" parent="Tile_Control"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
material_override = ExtResource("13_18wss")
mesh = SubResource("ArrayMesh_70ya6")
skeleton = NodePath("")

[node name="Node" type="Node" parent="." node_paths=PackedStringArray("_grid_control", "_tile_control")]
script = ExtResource("14_mo4h3")
_grid_control = NodePath("../Expander_Control")
_tile_control = NodePath("../Tile_Control")
