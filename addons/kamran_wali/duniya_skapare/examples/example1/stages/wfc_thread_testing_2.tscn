[gd_scene load_steps=25 format=3 uid="uid://xlatwwcra0dh"]

[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/scripts/stage_generators/gen_sim_tester.gd" id="1_bvxu6"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/scripts/stage_generators/wave_function_collapse/ds_wfc_gen_thread.gd" id="2_5i2f8"]
[ext_resource type="Resource" uid="uid://dpbwvgje7n62n" path="res://addons/kamran_wali/duniya_skapare/settings/wave_function_collapse/default_2.tres" id="3_3aqed"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/scripts/grids/ds_grid_rect.gd" id="4_vod1t"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_world_creator.gd" id="5_k5r1b"]
[ext_resource type="PackedScene" uid="uid://d3nwfq7k3q6lu" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_0_s_1_ground.tscn" id="6_6ujra"]
[ext_resource type="PackedScene" uid="uid://nlf210san7nl" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_1_s_1_water.tscn" id="7_4emjp"]
[ext_resource type="PackedScene" uid="uid://chp36hfkn8c5a" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_2_s_1_corner_1.tscn" id="8_aqdys"]
[ext_resource type="PackedScene" uid="uid://bc3h7h8la5err" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_3_s_1_corner_2.tscn" id="9_71cy4"]
[ext_resource type="PackedScene" uid="uid://ibf6e3xjblb0" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_4_s_1_corner_3.tscn" id="10_rnleb"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_fly_by_movement.gd" id="11_wsy6b"]
[ext_resource type="PackedScene" uid="uid://bughbf3ykvp1t" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_5_s_1_corner_4.tscn" id="11_x144y"]
[ext_resource type="PackedScene" uid="uid://cbfaux1ot7ov2" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_6_s_1_corner_4m.tscn" id="12_0f02a"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_tile_expander.gd" id="12_0i8fi"]
[ext_resource type="PackedScene" uid="uid://c6thmebkid70g" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_7_s_1_corner_5.tscn" id="13_5b6lo"]
[ext_resource type="Material" uid="uid://dq41i7obiprt7" path="res://addons/kamran_wali/duniya_skapare/examples/example1/materials/highlight.tres" id="13_46yat"]
[ext_resource type="PackedScene" uid="uid://rtr0rtuuwirl" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_8_s_1_corner_5m.tscn" id="14_fl7kd"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_control_1.gd" id="14_s0sc6"]
[ext_resource type="PackedScene" uid="uid://c2l623sb63m0t" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_9_s_1_corner_6.tscn" id="15_cw2fk"]
[ext_resource type="Script" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scripts/ds_example_ui2.gd" id="15_m6r1g"]
[ext_resource type="PackedScene" uid="uid://yh6ewxcvdjoq" path="res://addons/kamran_wali/duniya_skapare/examples/example1/scenes/set_1/tile_10_s_1_corner_7.tscn" id="16_lj4e1"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1bk58"]

[sub_resource type="ArrayMesh" id="ArrayMesh_ap3ax"]
_surfaces = [{
"aabb": AABB(-1, 0, -1, 2, 1e-05, 2.00001),
"format": 4097,
"index_count": 6,
"index_data": PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 191)
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_lirmf"]
resource_name = "s1_ground_Plane"
_surfaces = [{
"aabb": AABB(-1, 0, -1, 2, 1e-05, 2.00001),
"attribute_data": PackedByteArray(224, 239, 7, 63, 112, 30, 15, 61, 224, 239, 7, 63, 112, 30, 15, 61, 224, 239, 7, 63, 112, 30, 15, 61, 224, 239, 7, 63, 112, 30, 15, 61),
"format": 4119,
"index_count": 6,
"index_data": PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0),
"material": SubResource("StandardMaterial3D_1bk58"),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 63, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 191, 0, 0, 0, 0, 0, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 191)
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ap3ax")

[node name="wfc_thread" type="Node3D"]

[node name="Generator_Holder" type="Node3D" parent="." node_paths=PackedStringArray("_generator")]
script = ExtResource("1_bvxu6")
_generator = NodePath("WFC")

[node name="WFC" type="Node3D" parent="Generator_Holder"]
script = ExtResource("2_5i2f8")
_data = ExtResource("3_3aqed")
_is_debug = true
_is_debug_tile_index = true
_is_debug_tile_type = true
_is_debug_tile_rot = true

[node name="Grid" type="Node3D" parent="Generator_Holder/WFC"]
script = ExtResource("4_vod1t")
_grid_x = 30
_grid_y = 30

[node name="World_Creator" type="Node3D" parent="." node_paths=PackedStringArray("_generator", "_tile_holder")]
script = ExtResource("5_k5r1b")
_tiles = Array[PackedScene]([ExtResource("6_6ujra"), ExtResource("7_4emjp"), ExtResource("8_aqdys"), ExtResource("9_71cy4"), ExtResource("10_rnleb"), ExtResource("11_x144y"), ExtResource("12_0f02a"), ExtResource("13_5b6lo"), ExtResource("14_fl7kd"), ExtResource("15_cw2fk"), ExtResource("16_lj4e1")])
_generator = NodePath("../Generator_Holder/WFC")
_tile_holder = NodePath("../TileHolder")
_tile_offset_x = 2.0
_tile_offset_y = 2.0
_tile_offset_z = 2.0

[node name="TileHolder" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.881559, 0.358073, -0.307633, 1.4267e-08, 0.651662, 0.75851, 0.472074, -0.668671, 0.574478, 4.99932, 47.4558, 61.4221)
script = ExtResource("11_wsy6b")
_speed = 5.0

[node name="Highlighter" type="Node" parent="." node_paths=PackedStringArray("_generator", "_world_creator", "_highlighter")]
script = ExtResource("12_0i8fi")
_generator = NodePath("../Generator_Holder/WFC")
_world_creator = NodePath("../World_Creator")
_highlighter = NodePath("s1_ground2")
_offset_x = 2.0
_offset_y = 2.0
_offset_z = 2.0

[node name="s1_ground2" type="MeshInstance3D" parent="Highlighter"]
material_override = ExtResource("13_46yat")
mesh = SubResource("ArrayMesh_lirmf")
skeleton = NodePath("")

[node name="Control" type="Node" parent="." node_paths=PackedStringArray("_camera_control", "_tile_control")]
script = ExtResource("14_s0sc6")
_camera_control = NodePath("../Camera3D")
_tile_control = NodePath("../Highlighter")

[node name="UI" type="Control" parent="." node_paths=PackedStringArray("_control_1", "_generator", "_stage_progress_bar", "_lbl_current_mode", "_control_container", "_lbl_camera_controls", "_lbl_tile_controls")]
layout_mode = 3
anchor_right = 0.999
anchor_bottom = 1.0
offset_right = 0.151855
script = ExtResource("15_m6r1g")
_control_1 = NodePath("../Control")
_generator = NodePath("../Generator_Holder/WFC")
_stage_progress_bar = NodePath("Main_Container/Loading_Container/Stage_ProgressBar")
_lbl_current_mode = NodePath("Main_Container/Mode_Container/Lbl_Current_Mode")
_control_container = NodePath("Control_Container")
_lbl_camera_controls = NodePath("Control_Container/Lbl_Camera_Controls")
_lbl_tile_controls = NodePath("Control_Container/Lbl_Tile_Controls")

[node name="Main_Container" type="VBoxContainer" parent="UI"]
layout_mode = 0
offset_right = 389.0
offset_bottom = 40.0

[node name="Loading_Container" type="HBoxContainer" parent="UI/Main_Container"]
layout_mode = 2

[node name="Label" type="Label" parent="UI/Main_Container/Loading_Container"]
layout_mode = 2
text = "Generating Stage:"

[node name="Stage_ProgressBar" type="ProgressBar" parent="UI/Main_Container/Loading_Container"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Control_Settings_Container" type="HBoxContainer" parent="UI/Main_Container"]
layout_mode = 2

[node name="Label" type="Label" parent="UI/Main_Container/Control_Settings_Container"]
layout_mode = 2
text = "Show Controls"

[node name="CB_Control" type="CheckBox" parent="UI/Main_Container/Control_Settings_Container"]
layout_mode = 2

[node name="Mode_Info_Container" type="HBoxContainer" parent="UI/Main_Container"]
layout_mode = 2

[node name="Label" type="Label" parent="UI/Main_Container/Mode_Info_Container"]
layout_mode = 2
text = "Press Del Key To Change Mode."

[node name="Mode_Container" type="HBoxContainer" parent="UI/Main_Container"]
layout_mode = 2

[node name="Lbl_Current_Mode" type="Label" parent="UI/Main_Container/Mode_Container"]
layout_mode = 2
text = "Current Mode: Nones"

[node name="Control_Container" type="VBoxContainer" parent="UI"]
visible = false
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -40.0
offset_bottom = 40.0
grow_horizontal = 0

[node name="Lbl_Camera_Controls" type="Label" parent="UI/Control_Container"]
visible = false
layout_mode = 2
text = "Arrow Key Up: Move Camera Forward
Arrow Key Down: Move Camera Backward
Arrow Key Left: Move Camera Left
Arrorw Key Right: Move Camera Right
Page Up Key: Move Camera Up
Page Down Key: Move Camera Down
Home Key: Increase Camera Speed
End Key: Decrease Camera Speed"

[node name="Lbl_Tile_Controls" type="Label" parent="UI/Control_Container"]
visible = false
layout_mode = 2
text = "Arrow Key Up: Move Highlighter Up
Arrow Key Down: Move Highlighter Down
Arrow Key Left: Move Highlighter Left
Arrorw Key Right: Move Highlighter Right
Home Key: Check Tile"

[connection signal="toggled" from="UI/Main_Container/Control_Settings_Container/CB_Control" to="UI" method="_on_cb_control_toggled"]
